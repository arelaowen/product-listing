"use strict";(self["webpackChunkproduct_list"]=self["webpackChunkproduct_list"]||[]).push([[415],{8415:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(641),l=n(3751),o=n(8322),r=n(5494),i=n(9311),u=n(2082),s=n(1332),c=n(9074),d=n(852),f=n(8507),p=n(7027),v=n(4492),m=n(2939),g=n(6861),b=n(8517),h=n(7512),y=n(3091),F=(n(2936),n(1963)),V=n(1470),x=n(5551),k=n(1766),w=n(9823),E=n(9868),_=n(6590),P=n(953),S=n(1094),C=n(4717),R=n(2636),W=n(4675);const B=(0,S.j)({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...(0,C.cJ)((0,x.V)(),["centerAffix"]),...(0,C.cJ)((0,V.tG)(),["centerAffix"])},"VTextarea"),D=(0,R.RW)()({name:"VTextarea",directives:{Intersect:_.A},inheritAttrs:!1,props:B(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:o,slots:r}=t;const i=(0,E.q)(e,"modelValue"),{isFocused:u,focus:s,blur:c}=(0,k.i)(e),d=(0,a.EW)((()=>"function"===typeof e.counterValue?e.counterValue(i.value):(i.value||"").toString().length)),f=(0,a.EW)((()=>n.maxlength?n.maxlength:!e.counter||"number"!==typeof e.counter&&"string"!==typeof e.counter?void 0:e.counter));function p(t,n){e.autofocus&&t&&n[0].target?.focus?.()}const v=(0,P.KR)(),m=(0,P.KR)(),g=(0,P.IJ)(""),b=(0,P.KR)(),h=(0,a.EW)((()=>e.persistentPlaceholder||u.value||e.active));function y(){b.value!==document.activeElement&&b.value?.focus(),u.value||s()}function _(e){y(),o("click:control",e)}function S(e){o("mousedown:control",e)}function R(t){t.stopPropagation(),y(),(0,a.dY)((()=>{i.value="",(0,C.P)(e["onClick:clear"],t)}))}function B(t){const n=t.target;if(i.value=n.value,e.modelModifiers?.trim){const e=[n.selectionStart,n.selectionEnd];(0,a.dY)((()=>{n.selectionStart=e[0],n.selectionEnd=e[1]}))}}const D=(0,P.KR)(),K=(0,P.KR)(+e.rows),T=(0,a.EW)((()=>["plain","underlined"].includes(e.variant)));function I(){e.autoGrow&&(0,a.dY)((()=>{if(!D.value||!m.value)return;const t=getComputedStyle(D.value),n=getComputedStyle(m.value.$el),a=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),l=D.value.scrollHeight,o=parseFloat(t.lineHeight),r=Math.max(parseFloat(e.rows)*o+a,parseFloat(n.getPropertyValue("--v-input-control-height"))),i=parseFloat(e.maxRows)*o+a||1/0,u=(0,C.qE)(l??0,r,i);K.value=Math.floor((u-a)/o),g.value=(0,C.Dg)(u)}))}let A;return(0,a.nT)((()=>{e.autoGrow||(K.value=+e.rows)})),(0,a.sV)(I),(0,a.wB)(i,I),(0,a.wB)((()=>e.rows),I),(0,a.wB)((()=>e.maxRows),I),(0,a.wB)((()=>e.density),I),(0,a.wB)(D,(e=>{e?(A=new ResizeObserver(I),A.observe(D.value)):A?.disconnect()})),(0,a.xo)((()=>{A?.disconnect()})),(0,W.C)((()=>{const t=!!(r.counter||e.counter||e.counterValue),o=!(!t&&!r.details),[s,k]=(0,C.ph)(n),{modelValue:w,...E}=x.Z.filterProps(e),P=(0,V.jz)(e);return(0,a.bF)(x.Z,(0,a.v6)({ref:v,modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":T.value},e.class],style:e.style},s,E,{centerAffix:!1,focused:u.value}),{...r,default:t=>{let{id:n,isDisabled:o,isDirty:s,isReadonly:d,isValid:f}=t;return(0,a.bF)(V.xR,(0,a.v6)({ref:m,style:{"--v-textarea-control-height":g.value},onClick:_,onMousedown:S,"onClick:clear":R,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},P,{id:n.value,active:h.value||s.value,centerAffix:!1,dirty:s.value||e.dirty,disabled:o.value,focused:u.value,error:!1===f.value}),{...r,default:t=>{let{props:{class:n,...r}}=t;return(0,a.bF)(a.FK,null,[e.prefix&&(0,a.bF)("span",{class:"v-text-field__prefix"},[e.prefix]),(0,a.bo)((0,a.bF)("textarea",(0,a.v6)({ref:b,class:n,value:i.value,onInput:B,autofocus:e.autofocus,readonly:d.value,disabled:o.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:y,onBlur:c},r,k),null),[[(0,a.gN)("intersect"),{handler:p},null,{once:!0}]]),e.autoGrow&&(0,a.bo)((0,a.bF)("textarea",{class:[n,"v-textarea__sizer"],id:`${r.id}-sizer`,"onUpdate:modelValue":e=>i.value=e,ref:D,readonly:!0,"aria-hidden":"true"},null),[[l.Jo,i.value]]),e.suffix&&(0,a.bF)("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:o?n=>(0,a.bF)(a.FK,null,[r.details?.(n),t&&(0,a.bF)(a.FK,null,[(0,a.bF)("span",null,null),(0,a.bF)(F.p,{active:e.persistentCounter||u.value,value:d.value,max:f.value,disabled:e.disabled},r.counter)])]):void 0})})),(0,w.O)({},v,m,b)}});var K=n(7814),T=n(3971),I=n(3377),A=n(9997),O=n(4268);const U=(0,S.j)({id:String,text:String,...(0,C.cJ)((0,I.D)({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),G=(0,R.RW)()({name:"VTooltip",props:U(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const l=(0,E.q)(e,"modelValue"),{scopeId:o}=(0,A.b)(),r=(0,O.v6)(),i=(0,a.EW)((()=>e.id||`v-tooltip-${r}`)),u=(0,P.KR)(),s=(0,a.EW)((()=>e.location.split(" ").length>1?e.location:e.location+" center")),c=(0,a.EW)((()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center")),d=(0,a.EW)((()=>e.transition?e.transition:l.value?"scale-transition":"fade-transition")),f=(0,a.EW)((()=>(0,a.v6)({"aria-describedby":i.value},e.activatorProps)));return(0,W.C)((()=>{const t=I.L.filterProps(e);return(0,a.bF)(I.L,(0,a.v6)({ref:u,class:["v-tooltip",e.class],style:e.style,id:i.value},t,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,transition:d.value,absolute:!0,location:s.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:f.value,_disableGlobalStack:!0},o),{activator:n.activator,default:function(){for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n.default?.(...a)??e.text}})})),(0,w.O)({},u)}});var z=(0,a.Lk)("span",null,"Add Item",-1),H=(0,a.Lk)("span",null,"Edit Item",-1);function L(e,t,n,F,V,x){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(v.I,null,{default:(0,a.k6)((function(){return[(0,a.bF)(r.J,null,{default:(0,a.k6)((function(){var e;return[(0,a.bF)(c.Py,{headers:F.headers,items:F.items,search:F.search,density:"comfortable"},(e={top:(0,a.k6)((function(){return[(0,a.bF)(K.u,{color:"secondary",density:"compact",flat:"",class:"pa-2"},{default:(0,a.k6)((function(){return[(0,a.bF)(T.s,null,{default:(0,a.k6)((function(){return[(0,a.eW)("Product Maintenance")]})),_:1}),(0,a.bF)(m.h),(0,a.bF)(y.W,{modelValue:F.search,"onUpdate:modelValue":t[0]||(t[0]=function(e){return F.search=e}),density:"compact",label:"Search","prepend-inner-icon":"mdi-magnify",variant:"solo-filled",flat:"","hide-details":"","single-line":"",class:"mx-2"},null,8,["modelValue"]),(0,a.bF)(G,{location:"top"},{activator:(0,a.k6)((function(e){var n=e.props;return[(0,a.bF)(o.D,(0,a.v6)(n,{size:"small",icon:"",color:"success",variant:"elevated",onClick:t[1]||(t[1]=function(e){return F.dialog.status=!0})}),{default:(0,a.k6)((function(){return[(0,a.bF)(g.w,null,{default:(0,a.k6)((function(){return[(0,a.eW)("mdi-plus")]})),_:1})]})),_:2},1040)]})),default:(0,a.k6)((function(){return[z]})),_:1})]})),_:1})]}))},e["item.image"]=(0,a.k6)((function(e){var t=e.value;return[(0,a.bF)(b.y,{src:t,"aspect-ratio":"2"},null,8,["src"])]})),e["item.action"]=(0,a.k6)((function(e){var t=e.item;return[(0,a.bF)(G,{location:"top"},{activator:(0,a.k6)((function(e){var n=e.props;return[(0,a.bF)(o.D,(0,a.v6)(n,{size:"x-small",color:"secondary",variant:"elevated",onClick:function(e){return x.edit(t)}}),{default:(0,a.k6)((function(){return[(0,a.bF)(g.w,null,{default:(0,a.k6)((function(){return[(0,a.eW)("mdi-pencil")]})),_:1})]})),_:2},1040,["onClick"])]})),default:(0,a.k6)((function(){return[H]})),_:2},1024)]})),e._=2,e),1032,["headers","items","search"])]})),_:1})]})),_:1}),(0,a.bF)(d.p,{modelValue:F.dialog.status,"onUpdate:modelValue":t[8]||(t[8]=function(e){return F.dialog.status=e}),persistent:"",width:"45%"},{default:(0,a.k6)((function(){return[(0,a.bF)(r.J,null,{default:(0,a.k6)((function(){return[(0,a.bF)(p.n,{"validate-on":"submit lazy",ref:"form",onSubmit:(0,l.D$)(x.save,["prevent"])},{default:(0,a.k6)((function(){return[(0,a.bF)(i.r,null,{default:(0,a.k6)((function(){return[(0,a.eW)(" Add New Product ")]})),_:1}),(0,a.bF)(f.G),(0,a.bF)(u.O,{class:"pb-0 mb-0"},{default:(0,a.k6)((function(){return[(0,a.bF)(y.W,{modelValue:F.dialog.title,"onUpdate:modelValue":t[2]||(t[2]=function(e){return F.dialog.title=e}),density:"compact",variant:"outlined",label:"Title",rules:[function(e){return!!e||"This field is required"}],class:"pa-1"},null,8,["modelValue","rules"]),(0,a.bF)(D,{modelValue:F.dialog.description,"onUpdate:modelValue":t[3]||(t[3]=function(e){return F.dialog.description=e}),variant:"outlined",label:"Description",density:"compact",rules:[function(e){return!!e||"This field is required"}],class:"pa-1"},null,8,["modelValue","rules"]),(0,a.bF)(h.d4,{modelValue:F.dialog.category,"onUpdate:modelValue":t[4]||(t[4]=function(e){return F.dialog.category=e}),items:F.category,variant:"outlined",label:"Category",density:"compact",rules:[function(e){return!!e||"This field is required"}],class:"pa-1"},null,8,["modelValue","items","rules"]),(0,a.bF)(y.W,{modelValue:F.dialog.image,"onUpdate:modelValue":t[5]||(t[5]=function(e){return F.dialog.image=e}),density:"compact",variant:"outlined",label:"Image Url",rules:[function(e){return!!e||"This field is required"}],class:"pa-1"},null,8,["modelValue","rules"]),(0,a.bF)(y.W,{modelValue:F.dialog.price,"onUpdate:modelValue":t[6]||(t[6]=function(e){return F.dialog.price=e}),density:"compact",variant:"outlined",label:"Price",rules:[function(e){return!!e||"This field is required"}],class:"pa-1"},null,8,["modelValue","rules"])]})),_:1}),(0,a.bF)(s.S,{class:"pt-0 mx-3"},{default:(0,a.k6)((function(){return[(0,a.bF)(m.h),(0,a.bF)(o.D,{color:"error",onClick:t[7]||(t[7]=function(e){return F.dialog.status=!1})},{default:(0,a.k6)((function(){return[(0,a.eW)("Cancel")]})),_:1}),(0,a.bF)(o.D,{color:"primary",type:"submit",variant:"elevated"},{default:(0,a.k6)((function(){return[(0,a.eW)("Save")]})),_:1})]})),_:1})]})),_:1},8,["onSubmit"])]})),_:1})]})),_:1},8,["modelValue"])])}var $=n(1635),q={setup:function(){var e=(0,P.KR)([{title:"Action",align:"center",key:"action",nowrap:!1},{title:"Title",align:"start",key:"title",nowrap:!1},{title:"Description",align:"start",key:"description",nowrap:!1},{title:"Category",align:"start",key:"category",nowrap:!1},{title:"Image",align:"start",key:"image",nowrap:!1},{title:"Price",align:"start",key:"price",nowrap:!1}]),t=(0,P.KR)([]),n=(0,P.KR)(""),a=(0,P.KR)([]),l=(0,P.KR)({status:!1,id:null,title:null,description:null,category:null,image:null,price:null});return{headers:e,items:t,search:n,dialog:l,category:a}},methods:{getProduct:function(){return(0,$.sH)(this,void 0,void 0,(function(){var e;return(0,$.YH)(this,(function(t){switch(t.label){case 0:return[4,this.$api.procapi({method:"GET",url:"products"})];case 1:return e=t.sent(),this.items=e.data,[2]}}))}))},getOptions:function(){return(0,$.sH)(this,void 0,void 0,(function(){var e;return(0,$.YH)(this,(function(t){switch(t.label){case 0:return[4,this.$api.procapi({method:"GET",url:"products/categories"})];case 1:return e=t.sent(),this.category=e.data,[2]}}))}))},save:function(){return(0,$.sH)(this,void 0,void 0,(function(){var e,t,n,a,l,o,r,i,u,s,c;return(0,$.YH)(this,(function(d){switch(d.label){case 0:return e=this.dialog,t=e.id,n=e.title,a=e.description,l=e.category,o=e.image,r=e.price,[4,this.$refs.form.validate()];case 1:return i=d.sent().valid,i?this.dialog.id?[3,5]:[4,this.$api.procapi({method:"POST",url:"products",data:{title:n,description:a,category:l,image:o,price:r}})]:[3,8];case 2:return u=d.sent(),"object"!=typeof u.data?[3,4]:(this.items.push(u.data),[4,this.$refs.form.reset()]);case 3:d.sent(),this.dialog.status=!1,d.label=4;case 4:return[3,8];case 5:return[4,this.$api.procapi({method:"PUT",url:"products/".concat(t),data:{title:n,description:a,category:l,image:o,price:r}})];case 6:return s=d.sent(),c=this.items.findIndex((function(e){return e.id==s.data.id})),this.items[c]=s.data,[4,this.$refs.form.reset()];case 7:d.sent(),this.dialog.status=!1,d.label=8;case 8:return[2]}}))}))},edit:function(e){return(0,$.sH)(this,void 0,void 0,(function(){return(0,$.YH)(this,(function(t){return this.dialog=e,this.dialog.status=!0,[2]}))}))}},created:function(){this.getOptions(),this.getProduct()}},N=n(6262);const Y=(0,N.A)(q,[["render",L]]);var j=Y},852:function(e,t,n){n.d(t,{p:function(){return b}});var a=n(641),l=n(3803),o=n(3007),r=n(3377),i=n(9823),u=n(9868),s=n(9997),c=n(953),d=n(1094),f=n(2636),p=n(4717),v=n(162),m=n(4675);const g=(0,d.j)({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...(0,r.D)({origin:"center center",scrollStrategy:"block",transition:{component:l._},zIndex:2400})},"VDialog"),b=(0,f.RW)()({name:"VDialog",props:g(),emits:{"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:l}=t;const d=(0,u.q)(e,"modelValue"),{scopeId:f}=(0,s.b)(),g=(0,c.KR)();function b(e){const t=e.relatedTarget,n=e.target;if(t!==n&&g.value?.contentEl&&g.value?.globalTop&&![document,g.value.contentEl].includes(n)&&!g.value.contentEl.contains(n)){const e=(0,p.OW)(g.value.contentEl);if(!e.length)return;const n=e[0],a=e[e.length-1];t===n?a.focus():n.focus()}}function h(){g.value?.contentEl&&!g.value.contentEl.contains(document.activeElement)&&g.value.contentEl.focus({preventScroll:!0})}function y(){n("afterLeave")}return v.ZK&&(0,a.wB)((()=>d.value&&e.retainFocus),(e=>{e?document.addEventListener("focusin",b):document.removeEventListener("focusin",b)}),{immediate:!0}),(0,a.wB)(d,(async e=>{e||(await(0,a.dY)(),g.value.activatorEl?.focus({preventScroll:!0}))})),(0,m.C)((()=>{const t=r.L.filterProps(e),n=(0,a.v6)({"aria-haspopup":"dialog","aria-expanded":String(d.value)},e.activatorProps),i=(0,a.v6)({tabindex:-1},e.contentProps);return(0,a.bF)(r.L,(0,a.v6)({ref:g,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},t,{modelValue:d.value,"onUpdate:modelValue":e=>d.value=e,"aria-modal":"true",activatorProps:n,contentProps:i,role:"dialog",onAfterEnter:h,onAfterLeave:y},f),{activator:l.activator,default:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.bF)(o.K,{root:"VDialog"},{default:()=>[l.default?.(...t)]})}})})),(0,i.O)({},g)}})},7027:function(e,t,n){n.d(t,{n:function(){return f}});var a=n(641),l=n(5851),o=n(5596),r=n(9823),i=n(953),u=n(1094),s=n(2636),c=n(4675);const d=(0,u.j)({...(0,l.u)(),...(0,o.pE)()},"VForm"),f=(0,s.RW)()({name:"VForm",props:d(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:l}=t;const u=(0,o.DG)(e),s=(0,i.KR)();function d(e){e.preventDefault(),u.reset()}function f(e){const t=e,n=u.validate();t.then=n.then.bind(n),t.catch=n.catch.bind(n),t.finally=n.finally.bind(n),l("submit",t),t.defaultPrevented||n.then((e=>{let{valid:t}=e;t&&s.value?.submit()})),t.preventDefault()}return(0,c.C)((()=>(0,a.bF)("form",{ref:s,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:d,onSubmit:f},[n.default?.(u)]))),(0,r.O)(u,s)}})}}]);
//# sourceMappingURL=415.34d4afb1.js.map